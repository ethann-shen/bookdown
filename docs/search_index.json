[["index.html", "Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data Abstract Acknowledgements", " Analyzing Pace-of-Play in Soccer using Spatio-Temporal Event Data Ethan Shen 2021-04-02 Abstract Pace-of-play is an important characteristic in soccer that can influence the style and outcome of a match. Using event data provided by Wyscout that covers one season of regular-season games from five European soccer leagues, we develop four velocity-based pace metrics and first examine how pace varies across the pitch, between different leagues and different teams. Our findings show that although pace varies considerably, it is generally highest in the offensive third, relatively consistent across leagues, and displays a negative correlation with a team’s quality / increases with decreasing team quality. We then assess whether the pace metrics are useful in predicting the outcome of a match by constructing models with and without the metrics. After leveraging hierarchical logistic and multinomial logistic models, we find that even though the pace metrics are significant when predicting match outcomes, they only slightly improve the models’ accuracy. Acknowledgements insert this if necessary lol "],["intro.html", "Chapter 1 Introduction", " Chapter 1 Introduction Pace-of-play is an important characteristic in possession-based sports that can heavily influence the style and outcome of a match. In basketball, pace is defined as the number of possessions per 48 minutes [1]. However, there is no standardized definition of pace in soccer. Pace has been defined as the number of shots taken [2][3] and the number of successful passes per game [4]. Both of these metrics can provide an idea of how fast the ball and players are moving, as more passes generally lead to more scoring chances. The main limitation of event-based pace metrics is their failure to appropriately account for the outcome or the circumstances under which they are performed. For example, evaluating pace as the number of shots taken does not account for the percentage of shots on target, while the total number of successful passes does not differentiate between a pass made between two defenders in their own half of the pitch and a pass from a winger trying to create a goal-scoring opportunity. Pace-of-play has also been measured as the distance covered over time within a team’s possessions [5]. However, short possessions do not provide an accurate measurement of pace. For example, a possession consisting of a goal kick and a pass may travel at a fast speed, but is not necessarily representative of a team’s overall pace. A main aim of this work is to explore possessions via pass velocities. This new perspective of pace-of-play analyzes possessions that consist of three or more pass or free kick events, as these types of events are more definitive of a team’s pace. The use of spatio-temporal event data allows for more granular measurements of pace-of-play, such as measures of speed between consecutive events and between different regions on the pitch, which is partitioned into eight zones. (sounds weird.) In addition, we aim to determine whether the pace metrics are useful in predicting the outcome of a match and whether those metrics are significant. Our research goals are three-fold: Examine how pace-of-play varies across the pitch, between different teams and across different professional leagues. Quantify variations in pace at the team and league level and provide metrics to assess how well players and teams attack/defend pace. Evaluate effectiveness of pace metrics by incorporating them into models that predict the outcome of a match. The remainder of this paper is organized as follows. Section 2 describes the datasets. Section 3 introduces the pace-of-play metrics and the modeling methods. Section 4 presents the results of the methodology. Section 5 provides a discussion of our findings and a conclusion. "],["data.html", "Chapter 2 Data 2.1 Processing the Data", " Chapter 2 Data There are three main types of data available for soccer analytics. The first type is similar to box score data, which provides the match outcome and statistics about each team’s performance, such as the number of shots taken and percentage of completed passes. Our analysis utilizes event data, which records the 2D location of the ball throughout the match. The third and most granular type is tracking data, which generally records the 2D position of all players on the pitch and the 3D position of the ball throughout the match. We utilize data collected by Wyscout, a leading soccer analytics platform. The data includes the 1,826 regular season games played during the 2017-2018 season of five prominent European soccer leagues, including the English first division (EPL), the French first division (Ligue 1), the German first division (Bundesliga), the Italian first division (Serie A) and the Spanish first division (La Liga). We primarily use the events and teams datasets. (sounds weird, can probably remove) For each of the five leagues, the events data details all the events that occur during the course of each match. The data includes a number of variables that describe the event, including its name, time at which it occurs and its starting and ending coordinates. It also includes variables that identify the player, team, match, and match period (1st or 2nd half) that the event corresponds to; the player, team and match IDs are unique numerical values assigned by Wyscout. Both the x and y coordinates are always in the range [0, 100] and indicate the percentage of the pitch from the perspective of the attacking team, which is assumed to always play from the left side to the right side of the pitch [22]. The value of the \\(x\\) coordinate indicates the event’s nearness (in percentage) to the opponent’s goal, while the value of the \\(y\\) coordinate indicates the event’s nearness (in percentage) to the right side of the field. For consecutive events in which the ball stays in play and is possessed by the same team, the ending coordinates of an event will match the subsequent event’s starting coordinates. The data contains an average of 1,682 events per match. A list of all the events can be found in Appendix Table XXXX. Wyscout’s data collection is performed by expert analysts that tag the events from match videos [22]. For each ball touch in the match, the analyst will add the event type, timestamp, and the coordinates on the pitch. A series of quality control is performed, algorithmically and manually. Though these steps substantially reduce the margin of error, there is still potential for uncatchable mistakes. Table 2.1: Representation of a play consisting of 5 actions in a match between Arsenal and Leicester City Match ID Team Name Event Name Timestamp \\((x,y)_{start}\\) \\((x,y)_{end}\\) 2499719 Arsenal Pass 810.4485 (79.8, 15.4) (74.55, 29.4) 2499719 Arsenal Pass 811.5564 (74.55, 29.4) (77.7, 34.3) 2499719 Arsenal Duel 813.9146 (77.7, 34.3) (78.75, 49) 2499719 Leicester City Duel 814.0040 (27.3, 35.7) (26.25, 21) 2499719 Arsenal Shot 815.4620 (78.75, 49) (105, 39.4) Table 2.1 shows an example of four consecutive events in our data. This play consists of two consecutive passes, a duel on the ball, and ends with a shot taken by Arsenal. The teams data describes the clubs that play in the five leagues during the 2017-2018 season. This dataset contains the name of the club (e.g. Liverpool) and a team ID, which can be matched with the team-identifying variable in the events dataset. 2.1 Processing the Data The events and teams datasets, which are originally provided in JSON format, were transformed into data frames. We then merge the datasets by team ID so we also know the name of the club corresponding to each event. Before conducting our analysis, we made substantial changes to the merged dataset’s coordinates and coordinate system. Although soccer pitch measurements are not standardized, the preferred size for most professional clubs is 105 by 68 meters; we opted to make our pitch dimensions 105 by 70 meters for ease of calculations. Thus, the rescaled x-coordinates are now always in the range [0, 105] and the y-coordinates are now always in the range [0, 70]. From this point onward, references to the coordinates will be in terms of the rescaled pitch size. Figure 2.1: Standard pitch measurements. All units are in meters. There were also inconsistencies with some of the coordinates, particularly with goal kicks and shots. The starting coordinates for goal kicks are initially recorded at either (0,70) for the home team or (105,0) for the away team. Goal kicks should start within the attacking team’s goal area, a 5.5 by 18.3 meter box centered at the goal-line. Thus, a goal kick’s starting x-coordinate was changed to 0, and its starting y-coordinate was sampled uniformly from the interval [25.85, 44.15], the y-coordinates of the goal area. The ending coordinates for shots are initially recorded at either (0,70) for the home team or (105,0) for the away team. Since the ending coordinates of the shot should match the starting coordinates of the following event, we assigned all starting y-coordinates of the following event that are not 0 or 70 as the ending y-coordinate of the shot, and changed the ending x-coordinate of the shot to the starting x-coordinate of the following event. This readjustment accounts for shots that are off-target or blocked by another player, but the ball remains in play. The ending x-coordinates for remaining all shots were changed to 105, since these shots are either saved y the goalkeeper or deflected out of bounds. For these shots, the starting y-coordinate of the following event is either 0 or 70. If the shot is saved by the goalkeeper, we assume that the shot was on-target. Thus, the ending y-coordinates for saved shots were sampled uniformly from the interval [31.35, 38.65], the y-coordinates of the goal. If the shot went out of bounds, we assume that the shot was off-target. Thus, the ending y-coordinate was sampled uniformly from outside the y-coordinates of the goal but within the penalty box, or uniformly from the interval [14.85, 31.35] \\(\\cup\\) [38.65, 55.15]. Processing the JSON files and transforming the coordinates can be implemented with functions in the scoutr R package, a complete and consistent set of functions for reading, manipulating, and visualization Wyscout soccer data. "],["pace-of-play-metrics.html", "Chapter 3 Pace-of-Play Metrics 3.1 Framework 3.2 Results / Exploring Pace (which sounds better?)", " Chapter 3 Pace-of-Play Metrics 3.1 Framework 3.1.1 Possession Sequences Ball possession is the amount of time that a team possesses the ball during a game. However, there is no widely accepted definition of what events concludes a possession and triggers a new one [6]. Thus, we created a possession identifier that indicates the current unique possession in a game. In our definition, new possessions begin after a team demonstrates that it has established control of the ball. This occurs in the following situations: at the start of a half, when the team successfully intercepts or tackles the ball, after a shot is taken and after the opposing team last touches the ball before it goes out of bounds or commits a foul. A new possession can also begin even if the same team has possession of the ball. For example, if the ball goes out for a throw in for the attacking team, this indicates a new possession for the same attacking team. In addition, if the attacking team makes a pass after a sequence of duels, events in which opposing players contest the ball, this constitutes the same possession. According to our definition above, there were an average of 306 possessions per game. When analyzing pace, we only included passes and free kicks (excluding free kick shots and penalty kicks) since these events are reliable indicators of the pace of the game. In addition, we only kept possessions that consist of three or more pass or free kick events, as these types of possessions are more definitive of a team’s pace. From this point onwards, events will only refer to these passes and free kicks. Following the exclusion of certain possessions, the remaining possessions contained an average of 5.5 events per possession. 3.1.2 Metrics of Pace After creating a possession identifier, we first calculated the distance each event travelled. The east-west distances (\\(\\delta_{EW}\\)) are determined by the difference of the starting and ending x-coordinates while the north-south distances (\\(\\delta_{NS}\\)) are determined by the difference of the starting and ending y-coordinates. The total distances (\\(\\delta_{T}\\)) are calculated with the formula \\(\\sqrt{(\\delta_{EW}^2 + \\delta_{NS}^2)}\\). Events are assigned an E-only distance (\\(\\delta_{E}\\)) only if the pass travels toward the opposing goal. In reality, passes rarely travel in a straight line and players will often dribble the ball before making a pass. However, the dataset does not provide information about the ball’s true trajectory and movement, so these distances are calculated under the assumption that the ball travels in a straight line from its starting to ending coordinates. Next, we calculated the duration between events. For each event, the dataset only provides a timestamp in seconds since the beginning of the current half of the game. Thus, within each possession, the duration for an event was calculated as the difference of the timestamp of the following event and that of the current event. With this definition of duration, the last event in the possession sequence is unable to be included in the calculation of pace. We used the distance travelled and duration between successive passes and free kicks in the same possession to calculate four different measures of pace: total (\\(V_{T}\\)), east-west (\\(V_{EW}\\)), north-south (\\(V_{NS}\\)), and east-only (\\(V_{E}\\)) velocity. \\(V_{E}\\) differs from \\(V_{EW}\\) in that only forward progress is measured, and any backward progress is excluded from the analysis. Note that these four metrics are the average velocities of the event rather than the instantaneous velocities, since we did not have access to tracking data. All of the previously mentioned procedures can be implemented with functions in the scoutr package. 3.1.3 Spatial Polygrid Analysis We rescaled the pitch to 105 by 70 meters instead of 105 by 68 meters, to be able to divide the pitch into 294 equal, non-overlapping 5x5 meter square polygrids [7]. \\(V_{T}\\), \\(V_{EW}\\), \\(V_{NS}\\), and \\(V_{E}\\) for a given event was assigned to all polygrids that the event’s path intersects. Each polygrid contains \\(n\\) velocity values for the \\(n\\) event paths that intersect it. For each of the 5x5 polygrids, we then take the median for each of the four different pace metrics. There are polygrids, particularly ones in the corners or along the attacking team’s goal line, that have very few recorded velocity values because only a few events intersect those polygrids. These polygrids often contain passes with extremely high velocities, most of which are due to tagging errors. Thus, the median was taken, instead of the mean, to account for the presence of outliers. 3.1.4 Zonal Analysis We divided the pitch into 8 regions. For each zone, we determined which of the 294 5x5 polygrids intersect the zone. As seen in Figure 3.1, there are some polygrids that fall into multiple zones. We then take the mean of the median \\(V_{T}\\), \\(V_{EW}\\), \\(V_{NS}\\), and \\(V_{E}\\) values of those 5x5 polygrids to determine the aggregate speeds for the zone. We note that there is no significant difference between taking the mean or the median of the median velocities. Figure 3.1: Plot of the 294 polygrids and 8 zones overlaid on the pitch. The grey lines represent the polygrids and black borders represent the boundaries of the 8 zones. This method was conducted in favor of another one that assigns an event’s speeds to all zones that intersect the path of the event. Our approach automatically factors in the event’s distance within the zone and is more resistant to outliers. For example, for a pass that intersects \\(n\\) different 5x5 polygrids in a zone, the zone’s aggregate speed will be affected by that pass’ speed \\(n\\) times instead of just once. This approach is thus more resistant to outliers. 3.2 Results / Exploring Pace (which sounds better?) 3.2.1 EPL Pace (Polygrid) We first examined how pace in the English Premier League (EPL) differs among the 294 polygrids. Figure 3.2: Velocity by polygrid in the EPL for the 2017-18 regular season. Note that the scale of the four plots are different. Figure 3.2 displays the velocities for each polygrid for all games played in the EPL. \\(V_{T}\\) is the fastest in the polygrids within the opposing team’s penalty box and along the opposing team’s goal line. This is primarily due to higher \\(V_{NS}\\) in those areas, as \\(V_{EW}\\) is relatively slow. Passes completed within the penalty box will usually be taken faster, as players will often be looking for goal-scoring opportunities but will also be under more pressure from defenders. In addition, corner kicks often have a higher velocity than most passes. Most corners are taken into the 6-yard box, so their trajectories will intersect with the polygrids along the goal line. It is interesting to note that in the offensive half of the pitch, \\(V_{T}\\) is slower along the left and right flanks and faster in the middle. This is primarily driven by the patterns in \\(V_{EW}\\) and \\(V_{NS}\\), as \\(V_{EW}\\) is generally faster along the flanks while \\(V_{NS}\\) is faster in the middle. However, the \\(V_{NS}\\) in the middle are faster than the \\(V_{EW}\\) along the flanks, which is why \\(V_{T}\\) is also faster in the middle. From the \\(V_{E}\\), it seems like the teams in the EPL prefer to advance the ball past the center line along the flanks, rather than down the middle. At the end of the 2017/18 season, 8 out of the 10 players with the most assists were most often deployed as either left or right wingers or midfielders. Another interesting result is that \\(V_{E}\\) is relatively similar in the offensive and defensive thirds. A prior study suggests that a decline in \\(V_{E}\\) in the offensive third should be expected since there are diminishing returns for advancing the ball forward [7]. However, this decline in speed is only apparent in the polygrids around the 6-yard box. In most cases, players who receive the ball in this position would shoot, as these positions provide players with the optimal shooting angles. However, \\(V_{E}\\) does not decline in other polygrids in the offensive third. Central midfielders stationed around the outskirts penalty box could pass the ball to wingers on the left or right flanks. Even though the shooting angle worsens for the wingers, they can easily advance toward the goal line and cross the ball to the penalty box or cut back [12] to an onrushing player, both of which could lead to goal-scoring opportunities. 3.2.2 EPL Pace (Zonal) We then examined how pace in the EPL differs among the 8 zones. Figure 3.3: Velocity by zone in the EPL for the 2017-18 regular season. Figure 3.3 shows the zonal velocities We noticed that \\(V_{T}\\) is the highest in zone 8 and approximately 28-37% slower in the other seven regions. This is primarily due to the disparity among the \\(V_{NS}\\), particularly in zone 8, as \\(V_{EW}\\) is roughly equal in all zones. Zone 8 contains the highest \\(V_{NS}\\) because the velocities of corner kicks are all recorded in this zone. In addition, we also expect zones 2, 4, 5 and 7 to have the highest \\(V_{EW}\\) and lowest \\(V_{NS}\\) - in these zones, players can pass forwards and backwards, but only up or down, depending on their position on the pitch. 3.2.3 Pace Across Leagues Next, we analyzed how pace varies between the EPL and the four other first-division European leagues (Ligue 1, Bundesliga, Serie A and La Liga). Figure 3.4: Percent difference in velocity by zone relative to the EPL for the 2017-18 regular season. Figure 3.4 shows the percent difference between the average velocities from the EPL and those of the four other European leagues. Pace in Ligue 1 is slower in the defensive half of the pitch but mostly faster in the offensive pitch. \\(V_{T}\\) is approximately 1% faster in zones 5, 6, 7, and is primarily driven by changes in the \\(V_{EW}\\), as \\(V_{NS}\\) is relatively similar to that of the EPL. This could be due to the fact that the average number of goals scored per game is slightly higher in Ligue 1 than in the EPL (2.72 vs. 2.68). Faster pace in the offensive half can yield more goal-scoring opportunities. In addition, the 2017-2018 season saw the transfer of Neymar from Barcelona to PSG and the emergence of Kylian Mbappe. While Ligue 1 is often described as a poor attacking league, the advent/presence of this formidable attacking duo may have reinvigorated the league [8]. Differences in the offensive half are most notable in the Bundesliga. \\(V_{T}\\) in the Bundesliga is 2-4% faster in zones 5, 6, 7 and is driven by an increase in both the \\(V_{EW}\\) and \\(V_{NS}\\). The increase in total could have been due to a higher average number of goals scored per game compared to the EPL (2.79 vs. 2.68). Additionally, Bundesliga players are more likely to create scoring chances and take more shots than those in the other four leagues [9], which is corroborated by the fact that the \\(V_{E}\\) are approximately 3-5% faster than the EPL. Pace in Serie A is generally slower and primarily driven by a decline in \\(V_{EW}\\) across seven zones, with the most noteworthy occurring in zone 1. We performed a simulation based hypothesis test and determined there is no significant difference in the zone 1 speeds of the EPL and Serie A. Nothing in the data or the available literature provides any further insight on this phenomenon. La Liga displays the smallest difference in pace, with slightly slower speeds in zones 1 and 2. We expected La Liga teams to have the slowest velocities in the defensive half, as they are known for playing out from the back, a common tactic in which teams begin passing in their defensive third. This type of build-up play can help increase the quality of passes into teams’ midfielders and forwards. Goalkeepers such as Keylor Navas and Marc-Andre Ter Stegen both possess excellent ball control and distribution, which thus allows their teams to start plays from the back [17]. In recent years, more EPL teams have been adopting this tactic. Manchester City, with goalkeeper Ederson, is one of the best teams at playing from out from the back. When Pep Guardiola took over in 2016, he seeked to implement a system that plays out from the back, which requires a goalkeeper who is comfortable with the ball on their feet and is capable of building plays from the back [13] [14] [15]. Replacing long-term goalkeeper Joe Hart with Ederson, someone who fulfills Guardiola’s needs, has contributed to their recent success. Although this style of play has a myriad of benefits, not all teams are capable of executing this tactic. Playing out from the back requires precise passes, as one wayward pass could fall into the feet of an opposing player. Some goalkeepers, such as Tottenham’s Hugo Lloris, arguably one of the world’s best goalkeepers in terms of anticipation and one-on-one situations, lack the ability to pick out the right passes and prevent their teams from adopting this tactic [13] [16]. The mixed success of playing from the back in the EPL may have contributed to the slight difference in pace in the defensive half in comparison to La Liga. In general, players from La Liga and the EPL display the most similar performance-related match actions [9] and recorded a similar average number of goals per game (2.69 vs. 2.68), suggesting that only slight differences in pace should be expected between these two leagues. Ultimately, differences between these leagues are likely due to stylistic differences between leagues and individual teams, rather than differences in player ability. 3.2.4 EPL Team-level Pace (Polygrid) We examined team-level pace for the 20 teams in the EPL using both the polygrid and zonal methods and compared each team’s \\(V_{T}\\) to the EPL league average. Figure 3.5: Polygrid analysis of total speed by team vs. EPL average while attacking. Select teams are ordered by final standings from the 2017-18 season. All units are in m/s. Figure 3.5 displays the difference between the median total velocity in each 5x5m polygrid for 8 teams and that of the EPL average, with the rest displayed in the Appendix. None of these teams are faster or slower in all 294 polygrids, but the pace of the top six teams (Manchester City, Manchester United, Tottenham Hotspur, Liverpool, Chelsea and Arsenal) is generally slower than the league average. As we move down the league table, the polygrid velocities display more variation, but the four bottom-tier teams in Figure 4.3 are generally faster. It might seem odd that the top tier teams have a slower pace, but this is primarily due to the way we define pace. We expect these teams to maintain possession for a greater portion of the game and complete more passes. It is more likely for teams to maintain possession when making shorter, more controlled passes. Thus, we expect that the average distance and velocity per pass to increase as we move down the league table. In addition, goal kicks from the top four teams are relatively slower than the league average, with Manchester City’s having the slowest velocities. Although there is some variation, goal kicks from the bottom tier teams are generally faster than the league average. Since lower tier teams may not have possession for long periods of time, their goalkeepers may feel pressured to take longer goal kicks down the pitch, with the hope that one could create a goal-scoring opportunity. This is corroborated by the fact that Manchester City’s goalkeeper Ederson took 71% of his Premier League passes short, while every other goalkeeper, except for Liverpool’s Simon Mignolet, took less than 50% of their passes short [11]. Figure 3.6: Polygrid analysis of total speed by team vs. EPL average while defending. Select teams are ordered by final standings from the 2017-18 season. All units are in m/s. Figure 3.6 shows that while defending, these 8 teams also display variability between different polygrids and regions on the pitch. The top 4 teams generally gave up more pace in the offensive zones, with the exception of Manchester United. One reason for this discrepancy could be due to Jose Mourinho’s leadership [18] [19]. Under Mourinho, Manchester United line up in a 4-3-3 formation that shifts to a 4-1-4-1 defensively [20]. He is known for playing cautiously in big games; rather than imposing his style, he often looks to counter the opponents. For example, he has played 4-5-1 and 6-3-1 formations into draws against Liverpool, two defensive line ups that heavily negate Liverpool’s dynamic front three [21]. In addition, Manchester United’s goal-keeper, David de Gea, was the best goalkeeper in the league with 18 clean sheets. 3.2.5 EPL Team-level Pace (Zonal) We also examined team-level pace using the zonal method, which allows us to get a more high-level understanding of how pace varies across different clubs in the EPL. Figure 3.7: Zonal analysis of total speed by team vs. EPL average while attacking. Teams are ordered by final standings from the 2017-18 season. All units are in m/s. The overall results verify those found in the polygrid analysis. The top six teams (Manchester City, Manchester United, Tottenham Hotspur, Liverpool, Chelsea and Arsenal) were consistently slower than the league averages in all but 3 instances. As we move down the table, the zonal speeds display more variation, but these teams are generally faster than the league average. While attacking, teams such as Liverpool (4) and AFC Bournemouth (12) are faster than the league average in some zones and slower in other zones. However, the majority of the teams are either faster or slower in all 8 zones. For example, Newcastle United’s (10) speeds are faster in all 8 zones, while those of Manchester City (1) are all slower. Figure 3.8: Zonal analysis of total speed by team vs. EPL average while defending. Teams are ordered by final standings from the 2017-18 season. All units are in m/s. While defending, only Manchester City consistently gave up more pace, while the other 19 teams displayed variability between different zones. The top 6 teams generally gave up more pace in the offensive zones, with the exception of Manchester United (2). "],["modeling.html", "Chapter 4 Modeling 4.1 Variable and Model Selection 4.2 Hierarchical Logistic Model 4.3 Multinomial Logistic Model", " Chapter 4 Modeling 4.1 Variable and Model Selection After creating the pace-of-play metrics, we wanted to evaluate their effectiveness when used as variables in models that predict the outcome of a game. We implemented models with and without the pace metrics to determine if the models with the pace metrics achieve a higher accuracy. Our main goal is to create a predictive model that teams can use to predict the outcome of the game before the actual game. Therefore, we only considered pre-game variables that can be gathered before each game is played. Thus, when selecting variables, we did not include traditional post-game performance-based features, such as number of shots or corners taken. When selecting variables, we did not include traditional post-game performance-based features, such as number of shots or corners taken. We only considered pre-game, historical variables that can be gathered before each game is played. Even though we incorporate a pace metric from the same game as a variable, we anticipate that teams can also make these pre-game variables by substituting our pace metrics with historical measurements of pace. Table 4.1: Description of modeling variables. Variable Description Values Response FTR Outcome of a game with respect to home team -1 (Loss), 0 (Draw), 1 (Win) Predictors Unbeaten Current home unbeaten streak (win/draw) 0 to 19 Derby Indicates if game is a derby 0 (No), 1 (Yes) League League that game takes place in EPL, Ligue 1, Bundesliga, Serie A, La Liga Team Name of the home team Liverpool, Barcelona, etc. For each of the 1826 games, the response variable, FTR, describes the outcome with respect to the home team. A FTR of 1 indicates that the home team won while -1 indicates the away team won. Unbeaten is the home team’s current unbeaten streak leading up to a game. The streak resets to 0 when a team loses at home. For the first home game of the season, a team’s unbeaten streak from the 2016-17 season is used. For example, Manchester City went unbeaten in their last 12 home games in the 2016-17 season, so their Unbeaten for their first home game is 12. For the 14 newly promoted teams, their Unbeaten for their first home game is 0. This is because they played in a lower division, so their home unbeaten streak is not comparable to that of a team who played in the first division. Derby is an indicator variable, where 1 indicates whether or not a game is a derby game. A game is marked as a derby game if the two teams are located in the same city (Manchester City vs. Manchester United) or if there is a historical rivalry (El Clásico). League specifies which of the five leagues the game takes place in and Team is the name of the home team. Table 4.2: Description of pace variables. Variable Description Values \\(\\Delta_{ij}^{AZ}\\) Sum of the differences in total velocity for all zones (1-8) for home team \\(i\\) and away team \\(j\\) -88.93 to 67.72 (m/s) \\(\\Delta_{ij}^{OZ}\\) Sum of the differences in total velocity for all zones in offensive half (5-8) for home team \\(i\\) and away team \\(j\\) -80.68 to 45.55 (m/s) \\(\\Delta_{ij}^{FZ}\\) Sum of the differences in total velocity for zones 5,7,8 for home team \\(i\\) and away team \\(j\\) -79.1 to 39.74 (m/s) For each game, we conducted a zonal analysis of the total velocities for the home and away teams. However, we took the median of the median velocities of the 5x5 polygrids to determine the aggregate speeds for each zone instead of the mean of the medians. Bottom-tier teams have a smaller number of recorded events per game and are more susceptible to outliers in both the polygrid and zonal analyses. Thus, using the median of the median velocities makes these zonal speeds more resistant to outliers. Then we calculated the difference (home - away) in velocity for each of the 8 zones. For home team \\(i\\) and away team \\(j\\), \\(\\Delta_{ij}^{AZ}\\) is the sum of the differences for all 8 zones, \\(\\Delta_{ij}^{OZ}\\) is the sum of the differences for the four zones in the offensive half (zones 5-8) and \\(\\Delta_{ij}^{FZ}\\) is the sum of the differences for zones 5, 7, 8. To evaluate the models, we first split the data into a train and test set. The test data, which is 21.5% of the full data, includes 2 home and 2 away games for each of the 98 teams, for a total of 392 games. We perform 4-fold cross validation on the training data and lastly assess model performance by predicting on the testing data. We propose two different types of models - the first is a hierarchical logistic regression model that predicts between wins and non-wins (draws and losses) while second is a multinomial logistic regression model that predicts on all three potential outcomes. Draws and losses are the baseline category in the hierarchical logistic models and losses are the baseline in the multinomial logistic models. These models were preferred over other classification algorithms since we are concerned with both predictive power and interpretability. For both sets of models, we first constructed a baseline model that only uses the predictors mentioned in Table 4.1. We then added one of the pace variables from Table 4.2 to determine if the addition of a pace metric improves the model’s accuracy. Only one pace metric can be added to the model since they are all highly correlated. Interaction effects between the baseline predictors were also considered, but they did not improve the predictive power of any model. We used accuracy and AUC as evaluation metrics for the hierarchical logistic regression and accuracy and True Positive Rate (TPR) for the multinomial logistic regression. 4.2 Hierarchical Logistic Model The baseline hierarchical logistic model (without any pace metrics) is as follows: \\[ \\begin{aligned} Y_{ij} \\sim Bernoulli(&amp;\\pi_{ij}) \\\\ log(\\frac{\\pi_{ij}}{1-\\pi_{ij}}) = \\beta_{0} + \\beta_{1} * Unbeaten_i \\ + \\beta_{2} * I(&amp;Derby_{ij}=Yes) + \\alpha_{i} &amp;&amp; (1.1)\\\\ \\alpha_i \\sim N(0,\\tau^2) \\end{aligned} \\] The modified hierarchical logistic model (with the pace variable) is as follows: \\[ \\begin{aligned} Y_{ij} \\sim Bernoulli(&amp;\\pi_{ij}) \\\\ log(\\frac{\\pi_{ij}}{1-\\pi_{ij}}) = \\beta_{0} + \\beta_{1} * Unbeaten_i \\ + \\beta_{2} * I(Der&amp;by_{ij}=Yes) +\\beta_3 * \\Delta_{ij}^{FZ} + \\alpha_{i} &amp; (1.2)\\\\ \\alpha_i \\sim N(0,\\tau^2) \\end{aligned} \\] Let \\(i \\in (1, 2, \\dots, 98)\\) represent the home team and \\(j \\in (1, 2, \\dots, 38)\\) (\\((1, 2, \\dots, 34)\\) for teams in the Bundesliga) be the \\(j^{th}\\) game they play during the season. Then \\(Y_{ij}\\) is the outcome (win vs. draw/loss) of the game and \\(\\pi_{ij}\\) is the probability that home team \\(i\\) wins the game. \\(\\alpha_i\\) represents the random intercept term for team \\(i\\). We do not include a random intercept for League, as most of the variability between leagues is already explained by the variability between teams. The only difference between models 1.1 and 1.2 is the addition of the variable \\(\\Delta_{ij}^{FZ}\\) in 1.2. Table 4.3: Hierarchical logistic model results with 4-fold cross validation. Train Data Test Data Model Mean Accuracy Mean AUC Accuracy AUC Baseline 58.29% 56.53 63.52% 60.57 \\(\\Delta_{ij}^{FK}\\) 59.91% 58.52 64.29% 61.68 The baseline hierarchical logistic model reports an accuracy of 63.52% and AUC of 60.57 on the test data while the best performing pace model, the one with \\(\\Delta_{ij}^{FZ}\\), reports a slightly higher accuracy of 64.29% and AUC of 61.68. This suggests that the addition of pace metrics do not significantly improve the predictive power of the model on the test set. The results for the other two pace models can be found in Appendix Table XXXX. We expect the pace model with \\(\\Delta_{ij}^{AZ}\\) to have the lowest performance out of the three pace models. These pace variables assume that pace across the pitch is weighted evenly. Even though pace varies in the defensive half of the pitch, these differences are not necessarily indicative of a team’s scoring capabilities. Variation in pace in the offensive half is more indicative of a team’s attacking strength, which is more directly related to the outcome of a match. Table 4.4: Coefficients obtained from models 1.1 and 1.2. Baseline Model Pace Model Predictor Log Odds Ratio Odds Ratio p-value Log Odds Ratio Odds Ratio p-value (Intercept) -0.24 0.78 (0.67, 0.92) &lt; 0.01 -0.29 0.75 (0.64, 0.88) &lt; 0.001 Unbeaten 0.03 1.03 (1, 1.07) 0.06 0.04 1.04 (1.01, 1.08) 0.02 Derby -0.9 0.41 (0.24, 0.69) &lt; 0.01 -0.80 0.45 (0.27, 0.76) &lt; 0.01 \\(\\Delta_{ij}^{FK}\\) -0.05 0.95 (0.94, 0.97) &lt; 0.001 Table 4.4 displays the exponentiated coefficient values for all the variables that used in the baseline and pace metric models, respectively. All the coefficients, except for Unbeaten in the baseline model, are statistically significant. Thus, for every meter per second increase in \\(\\Delta_{ij}^{FK}\\) for home team \\(i\\) and away team \\(j\\), we expect the the odds of winning the game to multiply by a factor of 0.953 - this indicates that as the home team’s \\(V_T\\) in the flank zones increases, the home team has a smaller chance of winning the game. This reflects the results in the previous sections which showed that lower-ranked teams (and thus teams that have a lower chance of winning a match) generally have a higher \\(V_T\\). 4.3 Multinomial Logistic Model The baseline multinomial logistic model (without any pace metrics) is as follows: \\[ \\begin{aligned} P(Y_{ijk} = k) =&amp; \\pi_{ijk} \\\\ log(\\frac{\\pi_{ijk}}{\\pi_{ij1}}) = \\beta_{0k} + \\beta_{1k} * Unbeaten + \\ \\beta_{2k}* I&amp;(Derby_{ij}=Yes) + \\ &amp; (2.1)\\\\ \\sum_{T = 2}^{98}\\beta_{3kT}*I(Tea&amp;m_{i}=t) &amp; \\\\ k \\in (2, 3) \\end{aligned} \\] The modified multinomial logistic model (with the pace variable) is as follows: \\[ \\begin{aligned} P(Y_{ijk} = k) =&amp; \\pi_{ijk} \\\\ log(\\frac{\\pi_{ijk}}{\\pi_{ij1}}) = \\beta_{0k} + \\beta_{1k} * Unbeaten + \\ \\beta_{2k}* I&amp;(Derby_{ij}=Yes) + \\ &amp; (2.2)\\\\ \\sum_{T = 2}^{98}\\beta_{3kT}*I(Team_{i}=t&amp;) + \\beta_{4k} * \\Delta_{ij}^{FZ}&amp; \\\\ k \\in (2, 3) \\end{aligned} \\] Recall that the baseline of the response variable \\(FTR\\), \\(k=1\\), is a loss. Let \\(i \\in (1, 2, \\dots, 98)\\) represent the home team and \\(j \\in (1, 2, \\dots, 38)\\) (\\((1, 2, \\dots, 34)\\) for teams in the Bundesliga) be the \\(j^{th}\\) game they play during the season. \\(k \\in (2,3)\\) represents a draw and a win, respectively. Thus \\(\\pi_{ijk}\\) is the probability that the game ends in a draw when \\(k=2\\) and a win when \\(k=3\\). For the term \\(Team\\), \\(t=1\\) is the baseline, which is Manchester City. The only difference between models 2.1 and 2.2 is the addition of the variable \\(\\Delta_{ij}^{FZ}\\) in 2.2. Table 4.5: Multinomial logistic model results with 4-fold cross validation. Cross Validation Data Test Data Model Mean Accuracy Accuracy Baseline 45.27% 45.15% \\(\\Delta_{ij}^{FK}\\) 45.23% 46.68% The baseline multinomial model reports an accuracy of 45.15% on the test data while the best performing pace model, the one with \\(\\Delta_{ij}^{FZ}\\), reports a slightly higher accuracy of 46.68%. The best modified model with a pace metric actually performs slightly worse on the train set than the baseline model. Once again, we see that the addition of pace metrics do not significantly improve the predictive power of the model on the test set. Table 4.6: Multinomial logistic model results with 4-fold cross validation. Train Data Test Data Model Mean TPR (win) Mean TPR (draw) Mean TPR (loss) TPR (win) TPR (draw) TPR (loss) Baseline 65.1% 16.55% 38.08% 69.64% 11.65% 39.67% \\(\\Delta_{ij}^{FK}\\) 64.61% 16.85% 38.38% 67.86% 13.59% 45.45% The True Positive Rates from the multinomial model indicate that it predicts wins decently well but struggles to correctly predict a draw or loss. On paper, one team is typically stronger than the other and thus more likely to win. Predicting a draw or loss requires the stronger team to underperform, which is usually unexpected and therefore more unpredictable. The results for the other two pace models can be found in Appendix Table XXXX. Table 4.7: Coefficients obtained from models 2.1 and 2.2. Baseline Model Odds Ratio Pace Model Odds Ratio Predictor Response Log Odds Odds Ratio p-value Log Odds Odds Ratio p-value (Intercept) FTR = draw 2.09 8.07 (0.66, 98.31) 0.1 1.69 5.41 (0.44, 66) 0.19 Unbeaten FTR = draw -0.16 0.85 (0.8, 0.91) &lt; 0.001 -0.15 0.86 (0.8, 0.91) &lt; 0.001 Derby FTR = draw 0.16 1.18 (0.6, 2.31) 0.64 0.22 1.25 (0.63, 2.45) 0.52 \\(\\Delta_{ij}^{FK}\\) FTR = draw -0.05 0.95 (0.93, 0.97) &lt; 0.001 (Intercept) FTR = win 4.16 64.2 (7.46, 552.51) &lt; 0.001 3.68 39.47 (4.58, 339.97) &lt; 0.01 Unbeaten FTR = win -0.14 0.86 (0.82, 0.92) &lt; 0.001 -0.14 0.87 (0.82, 0.92) &lt; 0.001 Derby FTR = win -1.15 0.32 (0.16, 0.63) &lt; 0.01 -1.05 0.35 (0.18, 0.69) &lt; 0.01 \\(\\Delta_{ij}^{FK}\\) FTR = win -0.06 0.94 (0.92, 0.96) &lt; 0.001 "],["conclusion.html", "Chapter 5 Conclusion 5.1 Future Steps", " Chapter 5 Conclusion Our analysis shows that pace varies in different regions on the pitch, between legaues and between teams. Pace is often slower for top tier teams and generally faster for bottom tier teams, though there is much more variability in pace among the bottom tier teams. This finding is most noticeable in a team’s goal kicks. Top tier teams may feel more confident playing out from the back and thus less likely to take longer goal kicks. On the other hand, bottom tier teams may struggle to maintain possession for a long time, so their goalkeepers may feel pressured to take longer goal kicks, with the hopes that one could lead to a goal-scoring chance. We also see that teams vary in their ability to attack and defend pace in different zones on the pitch. Forward attacking pace (\\(V_E\\)) is currently the most used metric of team-level pace [3, 7, 8], but [7] notes that (\\(V_E\\)) decreases drastically as teams move into the offensive zone and thus is not an ideal metric for measuring a team’s offensive capabilities. However, our findings show a contrasting result from the one in [7]. \\(V_E\\) only declines in the polygrids in front of the goal, but not in other polygrids in the offensive half. Since \\(V_E\\) in the offensive half is also comparable to that in the defensive half, we believe that \\(V_E\\) is an appropriate metric to gauge team-level pace. Although we extracted meaningful findings from the pace metrics, there were two major limitations with the available data and methodology. The first is the presence of inaccuractely tagged events. Incorrectly labeled coordinates or timestamps can affect the calculation of the pace metrics. In addition, we assumed that the ball always traveled in a straight line, as we did not know the true trajectory of the ball or if a player dribbled the ball before passing. Another limitation is the lack of player tracking data, as this type of data is not widely publicly available. Player tracking data could provide more information about the true, 3D trajectory of the ball, thus giving us more robust and accurate pace metrics. In addition, we could also construct player-level pace metrics, since we would also have the location of all players on the pitch during the game. While the models performed adequately at predicting the outcome of a match, it is worth pointing out some limitations. We only had 1826 regular seasons in our dataset, so creating train and test sets further reduced the amount of data used to train the models. Our models may perform better if we are able to incorporate data from across multiple seasons. This would not only provide more data to train the models on but could also help quantify heterogeneity across seasons, if included as a random effect in the hierarchical logistic model. Future work includes the inclusion of more game-by-game variables. One challenge is that many of these variables (such as current home win streak, current home unbeaten streak, current number of points accumulated) are highly correlated with each other and would thus cause multicollinearity. We also considered variables such as the average age of a team’s players and the market valuation of a team’s players, but were unable to find these values on a game-by-game basis. 5.1 Future Steps The scope of this analysis discusses pace on a team and league level. However, pace can also be evaluated at the player-level. Future work includes quantifying player-level pace using the metrics we developed and also evaluating passing networks using network analysis to determine a player’s value within a team and if that player’s value has changed across the season. We can also examine the impact of pace on events in the game, such as pace before a shot is taken and how pace impacts a team’s pass completion rate. future steps: multinomial hierarchical logistic regression, or something in bayesian "],["appendix.html", "Appendix", " Appendix as;dfjhadskljfdalkfhdlksaj "],["references.html", "References", " References 1). Ferrero, V. (2013). The Effectiveness of Using Pace, eFG%, TOV … - CAE Users. Retrieved from http://homepages.cae.wisc.edu/~ece539/fall13/project/Ferrero_rpt.pdf 2). Knutson, T. (2013, January 24). A Look at Pace in Football. Retrieved from https://bitterandblue.sbnation.com/2013/1/24/3908816/football-soccer-analytics-pace 3). Knutson, T. (2015, January 05). Pace and Margin for Error. Retrieved from https://statsbomb.com/2013/11/pace-and-margin-for-error/ 4). Minkus, K. (2017, March 09). Examining Pace in MLS. Retrieved from http://www.americansocceranalysis.com/home/2017/3/9/examining-pace-in-mls 5). Lawrence, T. (2015, November 6). Europe’s Most Direct Teams – Deep xG. Retrieved from https://deepxg.com/2015/11/06/europes-most-direct-teams/ 6). Batorski, E. (2020, April 07). Ball possession in football - how it’s calculated and how it matters: STATSCORE - News Center. Retrieved from https://blog.statscore.com/ball-possession-in-football-how-its-calculated-and-how-it-matters/ 7). Yu, D., Boucher, C., Bornn, L., &amp; Javan, M. (2019, February). Playing Fast Not Loose: Evaluating team-level pace of play in ice hockey using spatio-temporal possession data. Retrieved from https://arxiv.org/pdf/1902.02020.pdf 8). Gibney, A. (2017, October 02). Ranking Ligue 1 Sides on Their Defensive Strength. Retrieved from https://bleacherreport.com/articles/2321750-ranking-the-ligue-1-sides-on-their-defensive-strength 9). Yi, Q., Groom, R., Dai, C., Liu, H., &amp; Gómez Ruano, M. Á. (2019, November 19). Differences in Technical Performance of Players From ‘The Big Five’ European Football Leagues in the UEFA Champions League. Retrieved from https://www.frontiersin.org/articles/10.3389/fpsyg.2019.02738 10). Nalton, J. (2019, September 13). Play Up Or Play Out: The Myths And Legends Of Playing Out From The Back. Retrieved from https://worldfootballindex.com/2019/09/playing-out-from-the-back-tactics-analysis-guardiola-lillo/ 11). Spencer, J. (2017, November 22). Stats Reveal Just How Suited New #1 Ederson Is to Pep Guardiola’s Man City System. Retrieved from https://www.90min.com/posts/5833855-stats-reveal-just-how-suited-new-1-ederson-is-to-pep-guardiola-s-man-city-system 12). https://www.washingtonpost.com/news/fancy-stats/wp/2014/10/16/two-of-soccers-most-dangerous-passes/ 13). https://www.espn.com/soccer/english-premier-league/story/3945761/why-playing-out-from-the-back-has-brought-mixed-results-for-premier-league-clubs 14). https://www.mirror.co.uk/sport/football/news/pep-guardiola-explains-axing-joe-13445300 15). https://worldfootballindex.com/2019/09/playing-out-from-the-back-tactics-analysis-guardiola-lillo/ 16). https://themastermindsite.com/2019/08/20/playing-out-from-the-back-full-session-plan-and-key-coaching-points/ 17). https://bleacherreport.com/articles/2790722-why-kepa-arrizabalaga-is-the-most-expensive-keeper-in-the-world 18). https://www.youtube.com/watch?v=1JBDCilBnas 19). https://www.skysports.com/football/news/11667/11278517/jose-mourinho-under-pressure-to-attack-when-manchester-united-host-liverpool 20). https://www.coachbetter.com/new-posts/soccer-tactic-why-is-the-4-1-4-1-the-best-formation/ 21).https://spielverlagerung.com/2016/10/19/mourinhos-midfield-pressing-and-6-3-1-halts-klopps-side/ 22). https://www.nature.com/articles/s41597-019-0247-7 "]]
